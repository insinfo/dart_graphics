# dart run ffigen --config ffigen_cairo.yaml

# Compiling cairo from Source for windows
# git clone https://github.com/microsoft/vcpkg
# .\\vcpkg\\bootstrap-vcpkg.bat
# .\\vcpkg install cairo:x64-windows

name: CairoBindings
description: Bindings to Cairo Graphics Library for Dart.
output: 'lib/src/cairo/generated/ffi.dart'
llvm-path:
  - 'C:/LLVM'  # pasta onde está o clang.exe

headers:
  entry-points:
    - 'C:/MyDartProjects/agg/referencias/libs/include/cairo/cairo.h'
    - 'C:/MyDartProjects/agg/referencias/libs/include/cairo/cairo-win32.h'
    - 'C:/MyDartProjects/agg/referencias/libs/include/cairo/cairo-pdf.h'
    - 'C:/MyDartProjects/agg/referencias/libs/include/cairo/cairo-svg.h'
    - 'C:/MyDartProjects/agg/referencias/libs/include/cairo/cairo-ps.h'
    - 'C:/MyDartProjects/agg/referencias/libs/include/cairo/cairo-ft.h'

compiler-opts:
  # Cairo includes
  - '-IC:/MyDartProjects/agg/referencias/libs/include'
  - '-IC:/MyDartProjects/agg/referencias/libs/include/cairo'
  - '-IC:/MyDartProjects/agg/referencias/libs/include/freetype'
  - '-IC:/MyDartProjects/agg/referencias/libs/include/fontconfig'
  
  # MSVC (ajuste a versão 14.41.34120 se for diferente)
  - '-IC:/Progra~1/MICROS~4/2022/Community/VC/Tools/MSVC/14.41.34120/include'

  # Windows SDK / UCRT (ajuste a versão 10.0.26100.0)
  - '-IC:/PROGRA~2/WI3CF2~1/10/Include/10.0.26100.0/ucrt'
  - '-IC:/PROGRA~2/WI3CF2~1/10/Include/10.0.26100.0/shared'
  - '-IC:/PROGRA~2/WI3CF2~1/10/Include/10.0.26100.0/um'
  
  # Supressão de warnings barulhentos do Windows SDK
  - '-Wno-everything'

preamble: |
  // ignore_for_file: camel_case_types, non_constant_identifier_names, unused_element
  // ignore_for_file: constant_identifier_names, public_member_api_docs
  // ignore_for_file: unused_field, lines_longer_than_80_chars

functions:
  include:
    # Version
    - cairo_version
    - cairo_version_string
    
    # Context creation and management
    - cairo_create
    - cairo_reference
    - cairo_destroy
    - cairo_get_reference_count
    - cairo_get_user_data
    - cairo_set_user_data
    - cairo_save
    - cairo_restore
    - cairo_push_group
    - cairo_push_group_with_content
    - cairo_pop_group
    - cairo_pop_group_to_source
    - cairo_status
    - cairo_status_to_string
    
    # Drawing settings
    - cairo_set_operator
    - cairo_get_operator
    - cairo_set_source
    - cairo_get_source
    - cairo_set_source_rgb
    - cairo_set_source_rgba
    - cairo_set_source_surface
    - cairo_set_tolerance
    - cairo_get_tolerance
    - cairo_set_antialias
    - cairo_get_antialias
    - cairo_set_fill_rule
    - cairo_get_fill_rule
    - cairo_set_line_width
    - cairo_get_line_width
    - cairo_set_hairline
    - cairo_get_hairline
    - cairo_set_line_cap
    - cairo_get_line_cap
    - cairo_set_line_join
    - cairo_get_line_join
    - cairo_set_dash
    - cairo_get_dash
    - cairo_get_dash_count
    - cairo_set_miter_limit
    - cairo_get_miter_limit
    
    # Transformations
    - cairo_translate
    - cairo_scale
    - cairo_rotate
    - cairo_transform
    - cairo_set_matrix
    - cairo_get_matrix
    - cairo_identity_matrix
    - cairo_user_to_device
    - cairo_user_to_device_distance
    - cairo_device_to_user
    - cairo_device_to_user_distance
    
    # Path operations
    - cairo_new_path
    - cairo_move_to
    - cairo_new_sub_path
    - cairo_line_to
    - cairo_curve_to
    - cairo_arc
    - cairo_arc_negative
    - cairo_arc_to
    - cairo_rel_move_to
    - cairo_rel_line_to
    - cairo_rel_curve_to
    - cairo_rectangle
    - cairo_stroke_to_path
    - cairo_close_path
    - cairo_path_extents
    - cairo_copy_path
    - cairo_copy_path_flat
    - cairo_append_path
    - cairo_path_destroy
    - cairo_has_current_point
    - cairo_get_current_point
    
    # Drawing operations
    - cairo_paint
    - cairo_paint_with_alpha
    - cairo_mask
    - cairo_mask_surface
    - cairo_stroke
    - cairo_stroke_preserve
    - cairo_fill
    - cairo_fill_preserve
    - cairo_copy_page
    - cairo_show_page
    
    # Hit testing
    - cairo_in_stroke
    - cairo_in_fill
    - cairo_in_clip
    - cairo_stroke_extents
    - cairo_fill_extents
    
    # Clipping
    - cairo_reset_clip
    - cairo_clip
    - cairo_clip_preserve
    - cairo_clip_extents
    - cairo_copy_clip_rectangle_list
    - cairo_rectangle_list_destroy
    
    # Tags
    - cairo_tag_begin
    - cairo_tag_end
    
    # Text / Glyphs
    - cairo_glyph_allocate
    - cairo_glyph_free
    - cairo_text_cluster_allocate
    - cairo_text_cluster_free
    - cairo_select_font_face
    - cairo_set_font_size
    - cairo_set_font_matrix
    - cairo_get_font_matrix
    - cairo_set_font_options
    - cairo_get_font_options
    - cairo_set_font_face
    - cairo_get_font_face
    - cairo_set_scaled_font
    - cairo_get_scaled_font
    - cairo_show_text
    - cairo_show_glyphs
    - cairo_show_text_glyphs
    - cairo_text_path
    - cairo_glyph_path
    - cairo_text_extents
    - cairo_glyph_extents
    - cairo_font_extents
    
    # Font options
    - cairo_font_options_create
    - cairo_font_options_copy
    - cairo_font_options_destroy
    - cairo_font_options_status
    - cairo_font_options_merge
    - cairo_font_options_equal
    - cairo_font_options_hash
    - cairo_font_options_set_antialias
    - cairo_font_options_get_antialias
    - cairo_font_options_set_subpixel_order
    - cairo_font_options_get_subpixel_order
    - cairo_font_options_set_hint_style
    - cairo_font_options_get_hint_style
    - cairo_font_options_set_hint_metrics
    - cairo_font_options_get_hint_metrics
    - cairo_font_options_get_variations
    - cairo_font_options_set_variations
    - cairo_font_options_set_color_mode
    - cairo_font_options_get_color_mode
    - cairo_font_options_get_color_palette
    - cairo_font_options_set_color_palette
    - cairo_font_options_set_custom_palette_color
    - cairo_font_options_get_custom_palette_color
    
    # Font face
    - cairo_font_face_reference
    - cairo_font_face_destroy
    - cairo_font_face_get_reference_count
    - cairo_font_face_status
    - cairo_font_face_get_type
    - cairo_font_face_get_user_data
    - cairo_font_face_set_user_data
    - cairo_toy_font_face_create
    - cairo_toy_font_face_get_family
    - cairo_toy_font_face_get_slant
    - cairo_toy_font_face_get_weight
    
    # User font face
    - cairo_user_font_face_create
    - cairo_user_font_face_set_init_func
    - cairo_user_font_face_set_render_glyph_func
    - cairo_user_font_face_set_render_color_glyph_func
    - cairo_user_font_face_set_text_to_glyphs_func
    - cairo_user_font_face_set_unicode_to_glyph_func
    - cairo_user_font_face_get_init_func
    - cairo_user_font_face_get_render_glyph_func
    - cairo_user_font_face_get_render_color_glyph_func
    - cairo_user_font_face_get_text_to_glyphs_func
    - cairo_user_font_face_get_unicode_to_glyph_func
    - cairo_user_scaled_font_get_foreground_marker
    - cairo_user_scaled_font_get_foreground_source
    
    # Scaled font
    - cairo_scaled_font_create
    - cairo_scaled_font_reference
    - cairo_scaled_font_destroy
    - cairo_scaled_font_get_reference_count
    - cairo_scaled_font_status
    - cairo_scaled_font_get_type
    - cairo_scaled_font_get_user_data
    - cairo_scaled_font_set_user_data
    - cairo_scaled_font_extents
    - cairo_scaled_font_text_extents
    - cairo_scaled_font_glyph_extents
    - cairo_scaled_font_text_to_glyphs
    - cairo_scaled_font_get_font_face
    - cairo_scaled_font_get_font_matrix
    - cairo_scaled_font_get_ctm
    - cairo_scaled_font_get_scale_matrix
    - cairo_scaled_font_get_font_options
    
    # Device
    - cairo_device_reference
    - cairo_device_get_type
    - cairo_device_status
    - cairo_device_acquire
    - cairo_device_release
    - cairo_device_flush
    - cairo_device_finish
    - cairo_device_destroy
    - cairo_device_get_reference_count
    - cairo_device_get_user_data
    - cairo_device_set_user_data
    
    # Surface
    - cairo_surface_create_similar
    - cairo_surface_create_similar_image
    - cairo_surface_map_to_image
    - cairo_surface_unmap_image
    - cairo_surface_create_for_rectangle
    - cairo_surface_reference
    - cairo_surface_finish
    - cairo_surface_destroy
    - cairo_surface_get_device
    - cairo_surface_get_reference_count
    - cairo_surface_status
    - cairo_surface_get_type
    - cairo_surface_get_content
    - cairo_surface_write_to_png
    - cairo_surface_write_to_png_stream
    - cairo_surface_get_user_data
    - cairo_surface_set_user_data
    - cairo_surface_get_mime_data
    - cairo_surface_set_mime_data
    - cairo_surface_supports_mime_type
    - cairo_surface_get_font_options
    - cairo_surface_flush
    - cairo_surface_mark_dirty
    - cairo_surface_mark_dirty_rectangle
    - cairo_surface_set_device_scale
    - cairo_surface_get_device_scale
    - cairo_surface_set_device_offset
    - cairo_surface_get_device_offset
    - cairo_surface_set_fallback_resolution
    - cairo_surface_get_fallback_resolution
    - cairo_surface_copy_page
    - cairo_surface_show_page
    - cairo_surface_has_show_text_glyphs
    - cairo_get_target
    - cairo_get_group_target
    
    # Image surface
    - cairo_image_surface_create
    - cairo_format_stride_for_width
    - cairo_image_surface_create_for_data
    - cairo_image_surface_get_data
    - cairo_image_surface_get_format
    - cairo_image_surface_get_width
    - cairo_image_surface_get_height
    - cairo_image_surface_get_stride
    - cairo_image_surface_create_from_png
    - cairo_image_surface_create_from_png_stream
    
    # Recording surface
    - cairo_recording_surface_create
    - cairo_recording_surface_ink_extents
    - cairo_recording_surface_get_extents
    
    # Pattern
    - cairo_pattern_create_rgb
    - cairo_pattern_create_rgba
    - cairo_pattern_create_for_surface
    - cairo_pattern_create_linear
    - cairo_pattern_create_radial
    - cairo_pattern_create_mesh
    - cairo_pattern_reference
    - cairo_pattern_destroy
    - cairo_pattern_get_reference_count
    - cairo_pattern_status
    - cairo_pattern_get_user_data
    - cairo_pattern_set_user_data
    - cairo_pattern_get_type
    - cairo_pattern_add_color_stop_rgb
    - cairo_pattern_add_color_stop_rgba
    - cairo_pattern_set_matrix
    - cairo_pattern_get_matrix
    - cairo_pattern_set_extend
    - cairo_pattern_get_extend
    - cairo_pattern_set_filter
    - cairo_pattern_get_filter
    - cairo_pattern_set_dither
    - cairo_pattern_get_dither
    - cairo_pattern_get_rgba
    - cairo_pattern_get_surface
    - cairo_pattern_get_color_stop_rgba
    - cairo_pattern_get_color_stop_count
    - cairo_pattern_get_linear_points
    - cairo_pattern_get_radial_circles
    
    # Mesh pattern
    - cairo_mesh_pattern_begin_patch
    - cairo_mesh_pattern_end_patch
    - cairo_mesh_pattern_curve_to
    - cairo_mesh_pattern_line_to
    - cairo_mesh_pattern_move_to
    - cairo_mesh_pattern_set_control_point
    - cairo_mesh_pattern_set_corner_color_rgb
    - cairo_mesh_pattern_set_corner_color_rgba
    - cairo_mesh_pattern_get_patch_count
    - cairo_mesh_pattern_get_path
    - cairo_mesh_pattern_get_corner_color_rgba
    - cairo_mesh_pattern_get_control_point
    
    # Raster source pattern
    - cairo_pattern_create_raster_source
    - cairo_raster_source_pattern_set_callback_data
    - cairo_raster_source_pattern_get_callback_data
    - cairo_raster_source_pattern_set_acquire
    - cairo_raster_source_pattern_get_acquire
    - cairo_raster_source_pattern_set_snapshot
    - cairo_raster_source_pattern_get_snapshot
    - cairo_raster_source_pattern_set_copy
    - cairo_raster_source_pattern_get_copy
    - cairo_raster_source_pattern_set_finish
    - cairo_raster_source_pattern_get_finish
    
    # Matrix
    - cairo_matrix_init
    - cairo_matrix_init_identity
    - cairo_matrix_init_translate
    - cairo_matrix_init_scale
    - cairo_matrix_init_rotate
    - cairo_matrix_translate
    - cairo_matrix_scale
    - cairo_matrix_rotate
    - cairo_matrix_invert
    - cairo_matrix_multiply
    - cairo_matrix_transform_distance
    - cairo_matrix_transform_point
    
    # Region
    - cairo_region_create
    - cairo_region_create_rectangle
    - cairo_region_create_rectangles
    - cairo_region_copy
    - cairo_region_reference
    - cairo_region_destroy
    - cairo_region_equal
    - cairo_region_status
    - cairo_region_get_extents
    - cairo_region_num_rectangles
    - cairo_region_get_rectangle
    - cairo_region_is_empty
    - cairo_region_contains_rectangle
    - cairo_region_contains_point
    - cairo_region_translate
    - cairo_region_subtract
    - cairo_region_subtract_rectangle
    - cairo_region_intersect
    - cairo_region_intersect_rectangle
    - cairo_region_union
    - cairo_region_union_rectangle
    - cairo_region_xor
    - cairo_region_xor_rectangle
    
    # PDF surface
    - cairo_pdf_surface_create
    - cairo_pdf_surface_create_for_stream
    - cairo_pdf_surface_restrict_to_version
    - cairo_pdf_get_versions
    - cairo_pdf_version_to_string
    - cairo_pdf_surface_set_size
    - cairo_pdf_surface_add_outline
    - cairo_pdf_surface_set_metadata
    - cairo_pdf_surface_set_page_label
    - cairo_pdf_surface_set_thumbnail_size
    
    # SVG surface
    - cairo_svg_surface_create
    - cairo_svg_surface_create_for_stream
    - cairo_svg_surface_restrict_to_version
    - cairo_svg_get_versions
    - cairo_svg_version_to_string
    - cairo_svg_surface_set_document_unit
    - cairo_svg_surface_get_document_unit
    
    # PS surface
    - cairo_ps_surface_create
    - cairo_ps_surface_create_for_stream
    - cairo_ps_surface_restrict_to_level
    - cairo_ps_get_levels
    - cairo_ps_level_to_string
    - cairo_ps_surface_set_eps
    - cairo_ps_surface_get_eps
    - cairo_ps_surface_set_size
    - cairo_ps_surface_dsc_comment
    - cairo_ps_surface_dsc_begin_setup
    - cairo_ps_surface_dsc_begin_page_setup
    
    # Win32 surface
    - cairo_win32_surface_create
    - cairo_win32_surface_create_with_format
    - cairo_win32_surface_create_with_dib
    - cairo_win32_surface_create_with_ddb
    - cairo_win32_surface_get_dc
    - cairo_win32_surface_get_image
    - cairo_win32_printing_surface_create
    - cairo_win32_font_face_create_for_logfontw
    - cairo_win32_font_face_create_for_hfont
    - cairo_win32_font_face_create_for_logfontw_hfont
    - cairo_win32_scaled_font_select_font
    - cairo_win32_scaled_font_done_font
    - cairo_win32_scaled_font_get_metrics_factor
    - cairo_win32_scaled_font_get_logical_to_device
    - cairo_win32_scaled_font_get_device_to_logical
    
    # FreeType font
    - cairo_ft_font_face_create_for_ft_face
    - cairo_ft_font_face_create_for_pattern
    - cairo_ft_font_options_substitute
    - cairo_ft_font_face_set_synthesize
    - cairo_ft_font_face_unset_synthesize
    - cairo_ft_font_face_get_synthesize
    - cairo_ft_scaled_font_lock_face
    - cairo_ft_scaled_font_unlock_face

structs:
  include:
    - cairo_t
    - cairo_surface_t
    - cairo_pattern_t
    - cairo_font_face_t
    - cairo_scaled_font_t
    - cairo_font_options_t
    - cairo_device_t
    - cairo_matrix_t
    - cairo_path_t
    - cairo_path_data_t
    - cairo_glyph_t
    - cairo_text_cluster_t
    - cairo_text_extents_t
    - cairo_font_extents_t
    - cairo_rectangle_t
    - cairo_rectangle_int_t
    - cairo_rectangle_list_t
    - cairo_region_t
    - cairo_user_data_key_t

enums:
  include:
    - cairo_status_t
    - cairo_content_t
    - cairo_operator_t
    - cairo_antialias_t
    - cairo_fill_rule_t
    - cairo_line_cap_t
    - cairo_line_join_t
    - cairo_text_cluster_flags_t
    - cairo_font_slant_t
    - cairo_font_weight_t
    - cairo_subpixel_order_t
    - cairo_hint_style_t
    - cairo_hint_metrics_t
    - cairo_font_type_t
    - cairo_path_data_type_t
    - cairo_device_type_t
    - cairo_surface_type_t
    - cairo_format_t
    - cairo_pattern_type_t
    - cairo_extend_t
    - cairo_filter_t
    - cairo_region_overlap_t
    - cairo_pdf_version_t
    - cairo_svg_version_t
    - cairo_svg_unit_t
    - cairo_ps_level_t
    - cairo_dither_t
    - cairo_color_mode_t
  rename:
    # Renomear enums que conflitam com funções de mesmo nome
    '_cairo_status': 'CairoStatusEnum'
    '_cairo_content': 'CairoContentEnum'
    '_cairo_operator': 'CairoOperatorEnum'
    '_cairo_antialias': 'CairoAntialiasEnum'
    '_cairo_fill_rule': 'CairoFillRuleEnum'
    '_cairo_line_cap': 'CairoLineCapEnum'
    '_cairo_line_join': 'CairoLineJoinEnum'
    '_cairo_font_slant': 'CairoFontSlantEnum'
    '_cairo_font_weight': 'CairoFontWeightEnum'
    '_cairo_font_type': 'CairoFontTypeEnum'
    '_cairo_subpixel_order': 'CairoSubpixelOrderEnum'
    '_cairo_hint_style': 'CairoHintStyleEnum'
    '_cairo_hint_metrics': 'CairoHintMetricsEnum'
    '_cairo_device_type': 'CairoDeviceTypeEnum'
    '_cairo_surface_type': 'CairoSurfaceTypeEnum'
    '_cairo_format': 'CairoFormatEnum'
    '_cairo_pattern_type': 'CairoPatternTypeEnum'
    '_cairo_extend': 'CairoExtendEnum'
    '_cairo_filter': 'CairoFilterEnum'
    '_cairo_region_overlap': 'CairoRegionOverlapEnum'
    '_cairo_path_data_type': 'CairoPathDataTypeEnum'
    '_cairo_text_cluster_flags': 'CairoTextClusterFlagsEnum'
    '_cairo_dither': 'CairoDitherEnum'
    '_cairo_color_mode': 'CairoColorModeEnum'
    '_cairo_pdf_version': 'CairoPdfVersionEnum'
    '_cairo_svg_version': 'CairoSvgVersionEnum'
    '_cairo_svg_unit': 'CairoSvgUnitEnum'
    '_cairo_ps_level': 'CairoPsLevelEnum'

macros:
  include:
    - CAIRO_VERSION
    - CAIRO_VERSION_MAJOR
    - CAIRO_VERSION_MINOR
    - CAIRO_VERSION_MICRO
    - CAIRO_VERSION_STRING
    - CAIRO_HAS_PNG_FUNCTIONS
    - CAIRO_HAS_PDF_SURFACE
    - CAIRO_HAS_PS_SURFACE
    - CAIRO_HAS_SVG_SURFACE
    - CAIRO_HAS_WIN32_SURFACE
    - CAIRO_HAS_WIN32_FONT
    - CAIRO_HAS_FT_FONT
    - CAIRO_HAS_FC_FONT
    - CAIRO_TAG_DEST
    - CAIRO_TAG_LINK
    - CAIRO_MIME_TYPE_JPEG
    - CAIRO_MIME_TYPE_PNG
    - CAIRO_MIME_TYPE_JP2
    - CAIRO_MIME_TYPE_URI
    - CAIRO_MIME_TYPE_UNIQUE_ID
    - CAIRO_MIME_TYPE_JBIG2
    - CAIRO_MIME_TYPE_JBIG2_GLOBAL
    - CAIRO_MIME_TYPE_JBIG2_GLOBAL_ID
    - CAIRO_MIME_TYPE_CCITT_FAX
    - CAIRO_MIME_TYPE_CCITT_FAX_PARAMS
    - CAIRO_PDF_OUTLINE_ROOT

unions:
  include: []

globals:
  include: []

unnamed-enums:
  include: []

silence-enum-warning: true  
